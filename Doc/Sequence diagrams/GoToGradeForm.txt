title Event: GoToGradeForm

participant Request
participant GoToGradeForm
participant StudentDAO
participant ctx
participant gradeForm.html
participant Response

Request->GoToGradeForm: doGet(examDateID, studentID)

alt !isStringSafe(studentID_str)
    GoToGradeForm->Response: sendError("Invalid student id")
end

alt !isStringSafe(examDateID_str)

GoToGradeForm->Response: sendError("Invalid exam date id")
end

GoToGradeForm->StudentDAO: findStudentByStudIDExamDateID(studentID, examDateID)
StudentDAO->GoToGradeForm: Student || null

alt student == null
    GoToGradeForm->Response: sendError("No student found in such exam date")
else
    GoToGradeForm->ctx: setVariable("student", student)
end

GoToGradeForm->ctx: setVariable("examDateID", examDateID)

GoToGradeForm->gradeForm.html: templateEngine.process(path, ctx, response.getWriter())
