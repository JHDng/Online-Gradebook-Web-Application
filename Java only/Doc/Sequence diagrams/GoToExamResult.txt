title Event: GoToExamResult

participant Request
participant GoToExamResult
participant Session
participant ExamDateDAO
participant ctx
participant examResult.html
participant Response

Request->GoToExamResult: doGet(examDateID)

GoToExamResult->Session: getAttribute("user")
alt !SafeChecker.isStringSafe(examDateID_str)
    GoToExamResult->Response: sendError(400, "Invalid exam date id")
else
GoToExamResult->ExamDateDAO: findExamResultByStudIDExamDateID(studentID, examDateID)
        ExamDateDAO->GoToExamResult: examResult || null

        alt examResult == null
            GoToExamResult->Response: sendError(400, "Couldn't find exam date")
        else
            GoToExamResult->ctx: setVariable("status", "course", "examDate", "grade", "student","examDateID")
            GoToExamResult->examResult.html: templateEngine.process(path, ctx, response.getWriter())
        end
    end
end
